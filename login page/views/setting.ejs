<%- include("headerchat.ejs") %>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link rel="stylesheet" href="homepage.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
    <div class="Chat-index">
        <div class="photoarea">
            <!-- Editable Profile Picture -->
            <label for="profilePicture" class="profile-picture-label">
                <img src="profilepic.png" alt="Profile Picture" class="profile-picture" id="profilePicture">
                <input type="file" id="profilePictureInput" style="display: none;" accept="image/*" onchange="changeProfilePicture(event)">
          
            </label>
            <div>
            <button class="edit-profile-btn" onclick="editProfile()"><i class="bi bi-pencil"></i> Change Picture</button>
        </div> <!-- Profile Information -->
            <div class="profile-info">
                <p><%= loguser.Username %></p>
                <p>ðŸŸ¢ Active</p>
                <!-- Add more profile information as needed -->
            </div>
            <div  class="dropdown">
                <button onclick="togglePersonalInfo()"class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                  Personal Info
                </button>
              

              <div class="personalinfoarea">
                <div class="ha">
                    Name
                </div>
                    <div class="p1" contenteditable="true" id="editableNameInPersonalInfo">
                        <%= loguser.Username %>
                    </div>
               
                <div class="ha">
                    Email
                </div>
                    <div class="p1">
                        <%= loguser.Email %>
                    </div>
              
                <div class="ha">
                    <%= loguser.Location %>
                </div>
                    <div class="p1">
                        India
                    </div>
               
              </div>
            </div><br>

              <div class="dropdown">
                <button onclick="toggleSecurity()" class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                  Security
                </button>

                <div class="securityarea">
                    <div class="aa">
                        Show security notification
                        <span class="switcharea"><label class="switch">
                            <input type="checkbox">
                            <span class="slider round"></span>
                          </label></span>
                    </div>
                    <div class="aa">
                        Notification Sound     
                        <span class="switcharea"><label class="switch">
                            <input type="checkbox">
                            <span class="slider round"></span>
                          </label></span>
                    </div>
                </div>
              </div>
           
        </div>
    </div>

    <script>
        function changeProfilePicture(event) {
            const profilePicture = document.getElementById('profilePicture');
            const profilePictureInput = document.getElementById('profilePictureInput');

            const file = event.target.files[0];
            const reader = new FileReader();

            reader.onload = function (e) {
                profilePicture.src = e.target.result;
            };

            reader.readAsDataURL(file);
        }

        function editProfile() {
            const profilePictureInput = document.getElementById('profilePictureInput');
            profilePictureInput.click();
        }

        function togglePersonalInfo() {
        var personalInfoArea = document.querySelector('.personalinfoarea');
        personalInfoArea.style.display = (personalInfoArea.style.display === 'block') ? 'none' : 'block';
    }
    function toggleSecurity() {
        var personalInfoArea = document.querySelector('.securityarea');
        personalInfoArea.style.display = (personalInfoArea.style.display === 'block') ? 'none' : 'block';
    }
    </script>
</body>
</html>
